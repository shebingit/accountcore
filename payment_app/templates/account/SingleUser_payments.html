{% extends 'account/account_base.html' %}
{% load static %}
{% block body %}



<style>

/*Register Box Register-details  Style */

    #register-box .contaier-fluid
    {
        display: grid;
        grid-template-columns: 0.90fr 2.2fr;
        padding: 1em;
        gap: 1em;
        background-color:#fafafa;
       
       
    }
    .register-details
    {
        height: 80vh;
        background: #ffff;
        box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
       
    }

    .register-details h4, .register-details-table h4{
      
        margin-top: 1.1em;
        font-size: 1.35em;
        margin-left: 0.40em;
        font-weight: 500;
        letter-spacing: 0.04em;
        font-family:Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
        color:rgb(38, 17, 63);
       
        
    }
    .register-details .line,  .register-details-table .line
    {
        width: 60px;
        height: 3px;
        border-bottom: 3px solid #000;
        margin-left: 0.60em;

    }

    /* Alert box */

    .register-details .message-bx,  .register-details .message-bx-confirm
    {
       
        color: #fafafa;
        font-size: 0.98em;
        font-weight: 600;
        font-family: 'Times New Roman', Times, serif;
        padding: 0.50em ;
        height: 5vh;
        margin-top: 1.2em; 
    }
    .register-details .message-bx
    {
        background: #e8e340;
    }
    .register-details .message-bx-confirm
    {
        background: #6fc146;
    }
  
    .register-details .message-bx-delete
    {
        background: #f7684c;
        color: #fafafa;
        font-size: 0.98em;
        font-weight: 600;
        font-family: 'Times New Roman', Times, serif;
        padding: 0.50em ;
        height: 5vh;
        margin-top: 1.2em;
       
    }
    .register-details form{
        padding:0.50em 1em;
        background: #fafafa;
    }
    .register-details form .input-group-box
    {
        margin-top: 1.5em;
    }
    .input-group-box label
    {
        width: 35%;
        font-size: 0.90em;
        font-weight: 600;
        padding: 0.40em;
    }
    .input-group-box input, select{
      width: 55%;
      padding: 0.20em;
      border: 1px solid #828181;
      font-size: 0.90em;
     
    }
    .input-group-box input:focus, select:focus
    {
        border:0.01rem solid #111158;
        outline: none;
        border-radius: 3px;
    }
    .input-group-box select option{
        font-size: 0.90em;
        padding: 1em 0em;
    }
    .submit_button
    {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 15vh;
        background: #fafafa;
        margin-top: 1em;
    }
    .submit_button button
    {
        padding: 0.40em 1.4em;
        font-weight: 600;
        background: #261b52;
        color: #ffff;
        margin:none ;
        border: none;
        letter-spacing: 0.04em;
    }
    #register-details a
    {
        padding: 0em 0.40em;
        font-size: 1.1em;
    
    }
    #register-details .edit
    {
        font-size: 0.95em;
    }
    #register-details .edit:nth-child(1)
    {
      
        color: #1b126f; 
    }
    #register-details .check
    {
      
        color: #3da309; 
    }
    #register-details .wating
    {
        color: #fff308;
    }
    #register-details .wating span
    {
        color: #d3c90d;
        font-size: 0.85em;
        font-weight: 600;
    }
    #register-details .notcheck
    {
        color: #ec0909;
    }
    #register-details .confirmbtn
    {
        font-size: 0.89em;
        font-weight: 600;
        border: none;
        padding: 0.40em 0.80em;
        background: #111158;
        color: #ffff;
    }
    /* Media Query*/
    @media(max-width:964px)
    {
        #register-box .contaier-fluid
        {
        grid-template-columns:repeat(1,1fr) ;
        }
        .register-details
        {
            height: auto;
        }
        
    }
    /*Register Box Register-details End Style */

     /*Register Box Register-details Table Style */
     .register-details-table  .user_action
     {
        display: flex;
        text-align: center;
        justify-content: end;

     }
     .user_action .reactive
     {
        background: #2ac312;
     }
     .user_action .delete
     {
        background: #f63e19;
     }
     .user_action .deactive
     {
        background: #0a2d68;
     }
      .user_action .delete, .user_action .deactive, .user_action .reactive{
        
        color: #fff;
        padding: 0.30em 1em;
        cursor: pointer;
        margin: 0em 0.10em;
        
     }
     .user_action .delete span, .user_action .deactive span, .user_action .reactive span{
        font-weight: 600;
        font-size: 0.88em;
        margin-left: 0.30em;
     }
     .register-details-table .container
     {
        box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
        height: 70vh;
        margin-top: 1.4em;
        padding-top:2em ;
     }
     #register-details
     {
        font-size: 0.90em;
     }
      /* Media Query*/
    @media(max-width:964px)
    {
    
        .register-details-table .container
        {
            height: auto;
            overflow-x: scroll;
          
           
        }
        #register-details
        {
          width: 100%; 
        }
        .register-details-table 
        {
            overflow-x: scroll;
        }
    }
    .down-load
    {
        color: #ec0909;
        cursor: pointer;
    }
    .not-download
    {
        color: #f7ea2d;
    }
    #register-details .wating
    {
        color: #fff308;
    }
    #register-details .wating span
    {
        color: #d3c90d;
        font-size: 0.85em;
        font-weight: 600;
    }
    #register-details .start
    {
        background: #ec0909;
    }
    #register-details .progressing
    {
        background: #ffff41;
    }
    #register-details .end
    {
        background: #8de769;
    }

    /* Next And Previous */
    #dir a {
        text-decoration: none;
        display: inline-block;
        padding: 5px 14px;
       
      }
      
      #dir a:hover {
        background-color: #0b0b0b;
        color: rgb(255, 255, 255);
      }
      
      #dir .previous {
        background-color: #f1f1f1;
        color: black;
        font-size: 1.2em;
      }
      
      #dir .next {
        background-color: #04AA6D;
        color: white;
        font-size: 1.2em;
      }
</style>


<main>
    <section id="register-box">
        <div class="contaier-fluid">
            <div class="register-details">
                <h4>User Details</h4>
                <div class="line"></div>
               
                <form>
                    {% csrf_token %}
                    <div class="input-group-box" >
                        <label>Full Name</label>
                        <input type="text" value="{{reg.fullName}}" readonly >
                    </div>
                    <div class="input-group-box">
                        <label>Date Of Joing</label>
                        <input type="text"  value="{{reg.dofj}}" readonly>
                    </div>
                    <div class="input-group-box">
                        <label>Phone Number</label>
                        <input type="text" value="{{reg.Phone}}"    readonly>
                    </div>
                    <div class="input-group-box">
                        <label>Referenced By</label>
                        <input type="text" value="{{reg.refrence}}"  readonly>
                    </div>
                    <div class="input-group-box">
                        <label>Department</label>
                        <input type="text" value="{{reg.dept_id.department}}"  readonly>
                        
                    </div>
                    <div class="input-group-box">
                        <label>Balance Amount</label>
                        <input type="text" value="{{reg.regbalance_amt}}"  readonly>
                        
                    </div>
                    
                    <div class="input-group-box">
                        <label>Total Amount</label>
                        <input type="text" value="{{reg.regtotal_amt}}"  readonly>
                    </div>

                    <div class="input-group-box" id="dir">
                        
                        <a href="{% url 'previous_data' reg.id  %}" class="previous round">&#8249;</a>
                        <a href="{% url 'next_data' reg.id  %}" class="next round">&#8250;</a>
                    </div>
                    
                   
                </form>
            </div>
            <div class="register-details-table">
                <h4>Payments Details</h4>
                <div class="line"></div>
                <div class="user_action">
                    {% if reg.payment_status == 0 %}
                    <a href="{% url 'deactive_user' reg.id  %}" class="deactive"><i class="bi bi-person-fill-exclamation"></i><span>Deactive</span> </a>
                    {% else %}
                    <a href="{% url 'reactivate_user' reg.id  %}" class="reactive"><i class="bi bi-person-fill-check"></i><span>Reactivate</span> </a>
                    {% endif %}
                    <a href="{% url 'delete_user' reg.id  %}" class="delete"><i class="bi bi-person-fill-x"></i><span>Delete</span> </a>
                </div>
                <div class="container">

                    <table id="register-details" class="display" >
                        <thead>
                            <tr>
                                <th></th>
                                <th>Payment Head</th>
                                <th>Date Of Payment</th>
                                <th>Amount Payed</th>
                                <th>Balance Amount</th>
                                <th>Status</th>
                                <th>Receipt</th>

                            </tr>
                        </thead>
                        <tbody>
                            {% for i in payhis %}
                            {% if  i.reg_id.payprogress <= 10 %}
                                <tr>
                                    <td>
                                        {{ forloop.counter }}
                                        <!-- <a hreh="#" class="edit"><i class="bi bi-pen-fill"></i></a>
                                        <a href="{% url 'remove' i.id %}" class="notcheck"><i class="bi bi-x-circle-fill"></i></a> -->
                                    </td>
                                    <td>{{i.head_name}}</td>
                                    <td>{{i.paydofj}}</td>
                                    <td class="end">{{i.payintial_amt}}</td>
                                    <td class="start">{{i.paybalance_amt}}</td>
                                    <td>
                                        {% if i.admin_payconfirm == 1 and i.pay_status == 1 %}
                                            <a class="check">
                                                <i class="bi bi-check-circle-fill"></i>
                                            </a>
                                        {% else %}
                                            <a href="#" class="wating"><i class="bi bi-exclamation-triangle-fill"></i><span>Wating..</span></a>
                                        {% endif %}  
                                    </td>
                                    <td> 
                                        {% if i.pay_status == 1 %}
                                            <a href="#" class="down-load"><i class="bi bi-file-pdf-fill"></i></a>
                                        {% else %}
                                            <a href="#" class="not-download"><i class="bi bi-exclamation-circle-fill"></i></a>
                                        {% endif %}
                                    </td>
                                </tr>
                            {% elif i.reg_id.payprogress >= 11 and  i.reg_id.payprogress <= 99  %}
                            <tr>
                                <td>
                                    {{ forloop.counter }}
                                    <!-- <a hreh="#" class="edit"><i class="bi bi-pen-fill"></i></a>
                                    <a href="{% url 'remove' i.id %}" class="notcheck"><i class="bi bi-x-circle-fill"></i></a> -->
                                </td>
                                <td>{{i.head_name}}</td>
                                <td>{{i.paydofj}}</td>
                                <td class="end">{{i.payintial_amt}}</td>
                                <td class="progressing">{{i.paybalance_amt}}</td>
                                <td>
                                    {% if i.admin_payconfirm == 1 and i.pay_status == 1 %}
                                        <a class="check">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </a>
                                    {% else %}
                                        <a href="#" class="wating"><i class="bi bi-exclamation-triangle-fill"></i><span>Wating..</span></a>
                                    {% endif %}  
                                </td>
                                <td> 
                                    {% if i.pay_status == 1 %}
                                        <a href="#" class="down-load"><i class="bi bi-file-pdf-fill"></i></a>
                                    {% else %}
                                        <a href="#" class="not-download"><i class="bi bi-exclamation-circle-fill"></i></a>
                                    {% endif %}
                                </td>
                            </tr>
                            {% else %}
                            <tr>
                                <td>
                                    {{ forloop.counter }}
                                    <!-- <a hreh="#" class="edit"><i class="bi bi-pen-fill"></i></a>
                                    <a href="{% url 'remove' i.id %}" class="notcheck"><i class="bi bi-x-circle-fill"></i></a> -->
                                </td>
                                <td>{{i.head_name}}</td>
                                <td>{{i.paydofj}}</td>
                                <td class="end">{{i.payintial_amt}}</td>
                                <td class="end">{{i.paybalance_amt}}</td>
                                <td>
                                    {% if i.admin_payconfirm == 1 and i.pay_status == 1 %}
                                        <a class="check">
                                            <i class="bi bi-check-circle-fill"></i>
                                        </a>
                                    {% else %}
                                        <a href="#" class="wating"><i class="bi bi-exclamation-triangle-fill"></i><span>Wating..</span></a>
                                    {% endif %}  
                                </td>
                                <td> 
                                    {% if i.pay_status == 1 %}
                                        <a href="#" class="down-load"><i class="bi bi-file-pdf-fill"></i></a>
                                    {% else %}
                                        <a href="#" class="not-download"><i class="bi bi-exclamation-circle-fill"></i></a>
                                    {% endif %}
                                </td>
                            </tr>

                            {% endif %}
                            {% endfor %}
                          
                        </tbody>
                       
                    </table>

                </div>
            </div>
           
        </div>
    </section>

    <!-- Meaage Box fead Out -->


</main>

{% endblock %}