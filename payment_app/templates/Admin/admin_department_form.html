{% extends 'Admin/adminbase.html' %}
{% load static %}
{% block body %}

<!--- Department Add   -->
<div class="content-wrapper">

    <div class="row">
        <div class="col-sm-12">
          <div class="home-tab">
            <div class="d-sm-flex align-items-center justify-content-between border-bottom">
              <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active ps-0" id="home-tab" data-bs-toggle="tab" href="#register-department" role="tab" aria-controls="register-state" aria-selected="true">Reg. Department </a>
                </li>
                
               
              </ul>
              {% if success_msg %}
                <div class="messageBox-container" id="message-container">
                
                        <div class="messageicon-Box successBox "><i class="mdi mdi-check icon-sm"></i></div>
                        <p class="text-center success-text">{{success_msg}}</p>
                </div>
              {% elif error_msg %}
                <div class="messageBox-container" id="message-container">
                        <div class="messageicon-Box errorBox "><i class="mdi mdi-close icon-sm"></i></div>
                        <p class="text-center error-text">{{error_msg}}</p>
                </div>
              {% endif %}
             
            </div>
            <div class="tab-content tab-content-basic">
                <div class="tab-pane fade show active" id="register-department" role="tabpanel" aria-labelledby="register-department"> 
                    <div class="row flex-grow">
                        <div class="col-12 grid-margin stretch-card">
                          <div class="card card-rounded">
                            <div class="card-body">
                              <div class="row">
                                <div class="col-lg-12">
                                  <form action="{% url 'admin_department_add' %}" class="forms-sample" method="post">
                                      {% csrf_token %}
                                      <div class="d-flex justify-content-between align-items-center">
                                          <h4 class="card-title card-title-dash">Register Department</h4>
                                          <div class="add-items d-flex mb-0">
                                            <button type="submit" class="add btn btn-icons btn-rounded btn-primary btn text-white me-0 pl-12p"><i class="mdi mdi-plus"></i></button>
                                          </div>
                                      </div>
                                      <div class="form-group mt-3">
                                          <label for="departmentName">Department</label>
                                          <input type="text" class="form-control" id="departmentName" value="{{dept_edit.department}}" name="dept_name" required>
                                          <input type="hidden" name="depId" value="{{dept_edit.id}}">
                                          
                                      </div>
                                        
                                  </form>
                                  
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>
             
                  
                    <div class="row flex-grow">
                          <div class="col-12 grid-margin stretch-card">
                              <div class="card card-rounded">
                              <div class="card-body">
                                  <div class="d-sm-flex justify-content-between align-items-start">
                                  <div>
                                      <h4 class="card-title card-title-dash">Department List</h4>
                                  <p class="card-subtitle card-subtitle-dash">You have <span class="count-value">{{dept_count}}</span> state registered</p>
                                  </div>
                                  
                                  </div>
                                  <div class="table-responsive  mt-1">
                                  <table class="table select-table">
                                      <thead>
                                      <tr>
                                        <tr>
                                            <th>Edit / Delete</th>
                                           
                                            <th>Department Name</th>
                                            <th>Staus</th>
                                            
                                        </tr>
                                      
                                      </tr>
                                      </thead>
                                      <tbody>

                                        {% for i in dept %}
                                          <tr>
                                            <td>
                                              <a href="{% url 'admin_edit_dept' i.id %}" class="text-primary me-3"><i class="mdi mdi-pen ">edit</i></a>
                                              <a href="{% url 'admin_remove_dept' i.id %} " class="text-danger"><i class="mdi mdi-close">delete</i></a>
                                            </td>
                                           
                                            
                                            <td><h6>{{i.department}}</h6></td>
                                            
                                            <td>
                                                {% if i.dpt_Status == 1 %}
                                                   
                                                <div class="badge badge-opacity-success">Active</div>
                                                {% else %}

                                                <div class="badge badge-opacity-danger">De-active</div>
                                                   

                                                {% endif %}
                                            
                                            </td>
                                            
                                          </tr>
                                        {% endfor %}
                                  
                                      </tbody>
                                  </table>
                                  </div>
                              </div>
                              </div>
                          </div>
                    </div>

                </div>

            </div>
          </div>
        </div>
      </div>

</div>

{% endblock %}